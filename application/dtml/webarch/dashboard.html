<!-- Dashboard Content -->
<section id="dashboard">
    <div class="dashboard-container">
        <!-- Header della Dashboard -->
        <div class="page-header">
            <h1><i class="fas fa-tachometer-alt me-3"></i>Dashboard</h1>
            <p>Panoramica generale del tuo centro fisioterapico</p>
        </div>

        <!-- Statistiche Principali -->
        <div class="stats-grid">
            <div class="stat-card success">
                <div class="stat-icon success">
                    <i class="fas fa-calendar-day"></i>
                </div>
                <div class="stat-number animate-number" data-value="<[stat_appuntamenti_oggi]>">0</div>
                <div class="stat-label">Appuntamenti Oggi</div>
                <div class="stat-change positive">
                    <i class="fas fa-arrow-up"></i>
                    <span><[stat_variazione_app_oggi]> rispetto a ieri</span>
                </div>
            </div>

            <div class="stat-card info">
                <div class="stat-icon info">
                    <i class="fas fa-check-circle"></i>
                </div>
                <div class="stat-number animate-number" data-value="<[stat_appuntamenti_confermati]>">0</div>
                <div class="stat-label">Appuntamenti Confermati</div>
                <div class="stat-change positive">
                    <i class="fas fa-arrow-up"></i>
                    <span><[stat_variazione_app_conf]> rispetto a settimana scorsa</span>
                </div>
            </div>

            <div class="stat-card warning">
                <div class="stat-icon warning">
                    <i class="fas fa-clock"></i>
                </div>
                <div class="stat-number animate-number" data-value="<[stat_richieste_in_attesa]>">0</div>
                <div class="stat-label">Richieste in Attesa</div>
                <div class="stat-change negative">
                    <i class="fas fa-arrow-down"></i>
                    <span><[stat_variazione_richieste]> rispetto a ieri</span>
                </div>
            </div>

            <div class="stat-card danger">
                <div class="stat-icon danger">
                    <i class="fas fa-bell"></i>
                </div>
                <div class="stat-number animate-number" data-value="<[stat_notifiche_non_lette]>">0</div>
                <div class="stat-label">Notifiche Non Lette</div>
                <div class="stat-change positive">
                    <i class="fas fa-arrow-up"></i>
                    <span><[stat_variazione_notifiche]> nuova notifica</span>
                </div>
            </div>
        </div>

        <!-- Contenuto Principale -->
        <div class="content-grid">
            <!-- Appuntamenti di Oggi -->
            <div class="panel">
                <div class="panel-header">
                    <h4><i class="fas fa-calendar-alt"></i> Appuntamenti del Giorno</h4>
                </div>
                <div class="panel-body">
                    <div class="table-responsive">
                        <table class="table table-modern">
                            <thead>
                                <tr>
                                    <th>Ora</th>
                                    <th>Cliente</th>
                                    <th>Servizio</th>
                                    <th>Stato</th>
                                    <th>Azioni</th>
                                </tr>
                            </thead>
                            <tbody>
                                <[preview_appuntamenti]>
                                <!--
                                  Il controller popolerà con al massimo 5 righe di esempio:
                                  <tr>
                                    <td><strong>09:00</strong></td>
                                    <td>Mario Rossi</td>
                                    <td>Fisioterapia Sportiva</td>
                                    <td><span class="status-badge status-confermato">Confermato</span></td>
                                    <td>
                                        <a href="index.php?page=appuntamenti&action=view&id=XX" class="btn btn-primary-modern btn-xs">
                                            <i class="fas fa-eye"></i>
                                        </a>
                                    </td>
                                  </tr>
                                -->
                            </tbody>
                        </table>
                    </div>
                    <div class="text-center">
                        <a href="index.php?page=appuntamenti" class="btn btn-outline-modern">
                            <i class="fas fa-list"></i> Vedi Tutti gli Appuntamenti
                        </a>
                    </div>
                </div>
            </div>

            <!-- Colonna Laterale -->
            <div class="side-column">
                <!-- Notifiche -->
                <div class="panel mb-4">
                    <div class="panel-header">
                        <h4><i class="fas fa-bell"></i> Notifiche Non Lette</h4>
                    </div>
                    <div class="panel-body">
                        <div id="preview-notifiche">
                            <[preview_notifiche]>
                            <!--
                              Il controller popolerà con al massimo 5 elementi:
                              <div class="notification-item unread">
                                <div class="d-flex justify-content-between align-items-start">
                                    <div>
                                        <strong>Nuova Richiesta</strong>
                                        <p class="mb-1">Anna Neri ha richiesto un appuntamento</p>
                                        <small class="notification-time">03/06/2025 10:15</small>
                                    </div>
                                    <a href="index.php?page=notifiche&action=view&id=12" class="btn btn-primary-modern btn-xs">Apri</a>
                                </div>
                              </div>
                            -->
                        </div>
                        
                        <div class="text-center mt-3">
                            <a href="index.php?page=messaggi" class="btn btn-outline-modern btn-sm">
                                <i class="fas fa-envelope"></i> Tutte le Notifiche
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Richieste in Arrivo -->
                <div class="panel">
                    <div class="panel-header">
                        <h4><i class="fas fa-inbox"></i> Richieste in Arrivo</h4>
                    </div>
                    <div class="panel-body">
                        <div class="table-responsive">
                            <table class="table table-modern">
                                <thead>
                                    <tr>
                                        <th>Data</th>
                                        <th>Cliente</th>
                                        <th>Azioni</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <[preview_richieste]>
                                    <!--
                                      Esempio riga:
                                      <tr>
                                        <td><small>02/06</small></td>
                                        <td>Giulia B.</td>
                                        <td>
                                          <a href="index.php?page=richieste&action=view&id=42" class="btn btn-primary-modern btn-xs">
                                            <i class="fas fa-eye"></i>
                                          </a>
                                        </td>
                                      </tr>
                                    -->
                                </tbody>
                            </table>
                        </div>
                        <div class="text-center">
                            <a href="index.php?page=richieste" class="btn btn-outline-modern btn-sm">
                                <i class="fas fa-list"></i> Tutte le Richieste
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Azioni Rapide -->
        <div class="quick-actions">
            <a href="index.php?page=appuntamenti&action=new" class="quick-action-card">
                <div class="quick-action-icon">
                    <i class="fas fa-plus"></i>
                </div>
                <strong>Nuovo Appuntamento</strong>
                <p class="mb-0">Aggiungi un nuovo appuntamento</p>
            </a>
            
            <a href="index.php?page=clienti&action=new" class="quick-action-card">
                <div class="quick-action-icon">
                    <i class="fas fa-user-plus"></i>
                </div>
                <strong>Nuovo Cliente</strong>
                <p class="mb-0">Registra un nuovo cliente</p>
            </a>
            
            <a href="index.php?page=statistiche" class="quick-action-card">
                <div class="quick-action-icon">
                    <i class="fas fa-chart-bar"></i>
                </div>
                <strong>Statistiche</strong>
                <p class="mb-0">Visualizza i report</p>
            </a>
            
            <a href="index.php?page=impostazioni" class="quick-action-card">
                <div class="quick-action-icon">
                    <i class="fas fa-cog"></i>
                </div>
                <strong>Impostazioni</strong>
                <p class="mb-0">Configura il sistema</p>
            </a>
        </div>
    </div>
</section>

<!-- Script per animazioni numero (necessario solo per dashboard) -->
<link rel="stylesheet" href="/tec-web/application/dtml/webarch/script-dashboard.js">